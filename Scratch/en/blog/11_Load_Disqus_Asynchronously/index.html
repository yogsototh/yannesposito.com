<!doctype html><html lang=en><meta charset=utf-8><title>YBlog - Load Disqus Asynchronously</title><meta name=keywords content="disqus,web,javascript,intense debate,comments"><link rel="shortcut icon" type=image/x-icon href=../../../../Scratch/img/favicon.ico><link rel=stylesheet href=../../../../Scratch/css/brutalist.css><link rel=stylesheet href=../../../../Scratch/css/pandoc-solarized.css><link rel=alternate type=application/rss+xml title=RSS href=../../../../Scratch/en/blog/feed/feed.xml><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon href=../../../../Scratch/img/about/FlatAvatar@2x.png><link href=https://twitter.com/yogsototh rel=me><link href=https://github.com/yogsototh rel=me><link href=mailto:yann.esposito@gmail.com rel=me><link rel=pgpkey href=../../../../pubkey.txt><body lang=en class=aj><div id=content><div id=header><div id=choix><span id=choixlang><a href=../../../../Scratch/fr/blog/11_Load_Disqus_Asynchronously/>French</a></span>
<span class=al><a href=#navigation>↓ Menu ↓</a></span>
<span class=bl></span></div></div><div id=titre><h1>Load Disqus Asynchronously</h1></div><div class=bl></div><div id=afterheader class=aj><div class=bn><h1 id=update>Update</h1><p>In fact this method works for old threads. But it fails to create new post threads. This is why I tried and be conquered by <a href=http://intensedebate.com>intensedebate</a>, as you can see in the bottom of this page.<p>Remark I didn’t have any comment on my blog when I switched. Therefore my lack of influence was a good thing :-).<hr><p>Before begining, I must state that I <strong>love</strong> Disqus.<p>I know there is a similar blog entry at <a href="http://trephine.org/t/index.php?title=Site_improvements_-_fighting_with_Disqus">Trephine.org</a>. Here I just add a straight and easy way to load disqus asynchronously using jQuery.<p>I also know there is a jQuery plugin to make just that. Unfortunately I had some issue with CSS.<p><em>Now let’s begin.</em><hr><h1 id=why>Why?</h1><p>Why should I want to load the disqus javascript asynchronously?<ul><li>Efficiency: I don’t want my page to wait the complete execution of disqus script to load.<li>More independance: when disqus is down, my page is blocked!</ul><hr><h1 id=how>How?</h1><p>I give a solution with jQuery, but I’m certain it will work with many other js library.<h3 id=javascript>Javascript</h3><p>replace:<div><div class=m id=cb1><pre class="m javascript"><code class="m javascript"><a class=l id=cb1-1 title=1><span class=op>&lt;</span>script type<span class=op>=</span><span class=st>&quot;text/javascript&quot;</span> src<span class=op>=</span><span class=st>&quot;http://disqus.com/forums/YOUR_DISQUS_ID/embed.js&quot;</span><span class=op>&gt;</span>&lt;/script<span class=op>&gt;</span></a></code></pre></div></div><p>by<div><div class=m id=cb2><pre class="m javascript"><code class="m javascript"><a class=l id=cb2-1 title=1><span class=va>window</span>.<span class=at>disqus_no_style</span><span class=op>=</span><span class=kw>true</span><span class=op>;</span></a>
<a class=l id=cb2-2 title=2><span class=at>$</span>(document).<span class=at>ready</span>(<span class=kw>function</span>()<span class=op>{</span></a>
<a class=l id=cb2-3 title=3>    <span class=va>$</span>.<span class=at>getScript</span>(<span class=st>&quot;http://disqus.com/forums/YOUR_DISQUS_ID/embed.js&quot;</span>)<span class=op>;</span></a>
<a class=l id=cb2-4 title=4><span class=op>}</span>)<span class=op>;</span></a></code></pre></div></div><p>If you forget the <code>window.disqus_no_style=true;</code> then your page will be blank. Simply because without this option, the javascript use a <code>document.write</code> action after the document was closed, which cause a complete erasing of it.<h3 id=css>CSS</h3><p>But with this option you still need to provide a CSS. This is why you have to copy the css code from the <code>embed.js</code> file and rewrite it in a CSS file. You can <a href=../../../../Scratch/en/blog/11_Load_Disqus_Asynchronously/code/original_disqus.css>download the CSS</a> I obtained.<hr><p>Now it’s done. I believe all should be fine but I just finished the manip for my own site only 1 hour ago. Therefore there should be some error, tell me if it is the case.</div><div id=afterarticle><div id=social><a href=../../../../Scratch/en/blog/feed/feed.xml target=_blank rel="noopener noreferrer nofollow" class=ao>RSS</a>
·
<a href="https://twitter.com/home?status=http%3A%2F%2Fyannesposito.com/Scratch/en/blog/11_Load_Disqus_Asynchronously/%20via%20@yogsototh" target=_blank rel="noopener noreferrer nofollow" class=ao>Tweet</a>
·
<a href="http://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fyannesposito.com/Scratch/en/blog/11_Load_Disqus_Asynchronously/" target=_blank rel="noopener noreferrer nofollow" class=ao>FB</a><br><a class=ad href=../../../../Scratch/en/blog/Social-link-the-right-way/>These social sharing links preserve your privacy</a></div><div id=navigation><a href=../../../../>Home</a>
<span class=co>¦</span>
<a href=../../../../Scratch/en/blog>Blog</a>
<span class=co>¦</span>
<a href=../../../../Scratch/en/softwares>Softwares</a>
<span class=co>¦</span>
<a href=../../../../Scratch/en/about>About</a></div><div id=totop><a href=#header>↑ Top ↑</a></div><div id=bottom><div>Published on 2009-09-17</div><div><a href=https://twitter.com/yogsototh>Follow @yogsototh</a></div><div><a rel=license href=http://creativecommons.org/licenses/by/3.0/deed.en_US>Yann Esposito©</a></div><div>Done with
<a href=http://www.vim.org target=_blank rel="noopener noreferrer nofollow"><strike>Vim</strike></a>
<a href=http://spacemacs.org target=_blank rel="noopener noreferrer nofollow">spacemacs</a>
<span class=bx>&</span>
<a href=http://nanoc.ws target=_blank rel="noopener noreferrer nofollow"><strike>nanoc</strike></a>
<a href=http://jaspervdj.be/hakyll target=_blank rel="noopener noreferrer nofollow">Hakyll</a></div><hr><div style=max-width:100%><a href=https://cardanohub.org><img src=../../../../Scratch/img/ada-logo.png class=aq style=height:16px;border-radius:50%;vertical-align:middle;display:inline-block>
ADA:</a>
<code style=display:inline-block;word-wrap:break-word;text-align:left;vertical-align:top;max-width:85%>DdzFFzCqrhtAvdkmATx5Fm8NPJViDy85ZBw13p4XcNzVzvQg8e3vWLXq23JQWFxPEXK6Kvhaxxe7oJt4VMYHxpA2vtCFiP8fziohN6Yp</code></div></div></div></div></div>